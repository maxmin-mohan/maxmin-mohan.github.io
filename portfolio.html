<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Mohan Kumar Video Editor</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="assets/js/mobile-nav.js"></script>
    
    <style>
        :root {
            --color-background: #000000;
            --color-surface: #121212;
            --color-accent: #007AFF;
            --color-text-primary: #FFFFFF;
            --color-text-secondary: rgba(255, 255, 255, 0.7);
            --color-border: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--color-background);
            color: var(--color-text-primary);
        }

        h1, h2, h3, h4, .serif-title {
            font-family: 'Playfair Display', serif;
        }

        /* Hero Section & Cinematic Effects */
        .cinematic-container {
            aspect-ratio: 2.35 / 1;
            position: relative;
            overflow: hidden;
            margin: 2rem 0;
        }

        .cinematic-bars::before,
        .cinematic-bars::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            height: 48px;
            background-color: #000;
            z-index: 10;
        }

        .cinematic-bars::before { top: 0; }
        .cinematic-bars::after { bottom: 0; }

        /* Animations */
        .fade-in {
            animation: fadeIn 1s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Gradients & Text */
        .gradient-bg {
            background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
        }

        .text-gradient {
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            background-image: linear-gradient(to right, #a855f7, #3b82f6, #14b8a6);
        }

        /* Card Styles */
        .card-gradient {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }

        /* Enhanced Tubelight Navbar */
        #tubelight-nav-container {
            --nav-primary-color: #a855f7;
            --nav-primary-glow-1: rgba(168, 85, 247, 0.2);
            --nav-primary-glow-2: rgba(168, 85, 247, 0.15);
            --nav-primary-glow-3: rgba(168, 85, 247, 0.1);
            --nav-text-color: #a0a0a0;
            --nav-text-hover: #ffffff;
            --nav-bg: rgba(0, 0, 0, 0.8);
            --nav-border: rgba(255, 255, 255, 0.2);
            --nav-active-bg: rgba(168, 85, 247, 0.1);
            --nav-active-text: #ffffff;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
        }

        #lamp {
            transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1), width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(to right, rgba(168, 85, 247, 0.2), rgba(59, 130, 246, 0.2), rgba(20, 184, 166, 0.2));
        }

        /* Portfolio Filter Buttons */
        .filter-btn {
            padding: 0.75rem 1.5rem;
            border: 1px solid var(--color-border);
            border-radius: 9999px;
            color: var(--color-text-secondary);
            background: transparent;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .filter-btn:hover,
        .filter-btn.active {
            border-color: var(--color-accent);
            color: var(--color-text-primary);
            background: var(--color-accent);
            transform: translateY(-1px);
        }
        
        /* Portfolio Grid Items */
        .portfolio-item {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
            background: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .portfolio-item.show {
             opacity: 1;
             transform: translateY(0);
        }

        .portfolio-item:hover {
            transform: translateY(-4px);
            border-color: var(--color-accent);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .portfolio-item .relative {
            aspect-ratio: 16 / 9;
        }

        .portfolio-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .portfolio-item:hover img {
            transform: scale(1.05);
        }

        /* Video Modal Styles */
        #featuredWorkModal {
            transition: opacity 0.3s ease;
        }
        #featuredWorkModal > div {
            transition: transform 0.3s ease;
        }
        #featuredWorkModal.active {
            opacity: 1;
            pointer-events: auto;
        }
        #featuredWorkModal.active > div {
            transform: scale(1);
        }
        
        /* Simple Footer Styles (Replace with your own if needed) */
        .footer {
            padding: 4rem 2rem;
            background-color: var(--color-surface);
            border-top: 1px solid var(--color-border);
            text-align: center;
        }
    </style>
</head>

<body class="gradient-bg">

    <nav id="tubelight-nav-container" class="fixed top-6 left-1/2 -translate-x-1/2 z-[100]">
        <div id="nav-wrapper" class="relative flex items-center gap-2 border rounded-full shadow-lg p-1.5 px-2" style="background-color: var(--nav-bg); border-color: var(--nav-border);">
            <div id="lamp" class="absolute inset-0 h-full rounded-full -z-10">
                <div class="absolute -top-2.5 left-1/2 -translate-x-1/2 w-8 h-1 rounded-t-full" style="background: linear-gradient(to right, #a855f7, #3b82f6, #14b8a6);">
                    <div class="absolute w-12 h-6 rounded-full -top-2 -left-2" style="background-color: rgba(168, 85, 247, 0.2); filter: blur(12px);"></div>
                    <div class="absolute w-8 h-6 rounded-full -top-1" style="background-color: rgba(168, 85, 247, 0.15); filter: blur(8px);"></div>
                    <div class="absolute w-4 h-4 rounded-full top-0 left-2" style="background-color: rgba(168, 85, 247, 0.1); filter: blur(4px);"></div>
                </div>
            </div>
            <a href="index.html" class="nav-item px-6 py-2.5 text-sm font-medium rounded-full cursor-pointer transition-all hover:text-white flex items-center gap-2" data-name="Home">
                <i data-lucide="home" class="w-4 h-4"></i>
                <span>Home</span>
            </a>
            <a href="portfolio.html" class="nav-item active px-6 py-2.5 text-sm font-medium rounded-full cursor-pointer transition-all hover:text-white flex items-center gap-2" data-name="Portfolio">
                <i data-lucide="briefcase" class="w-4 h-4"></i>
                <span>Portfolio</span>
            </a>
            <a href="services.html" class="nav-item px-6 py-2.5 text-sm font-medium rounded-full cursor-pointer transition-all hover:text-white flex items-center gap-2" data-name="Services">
                <i data-lucide="wrench" class="w-4 h-4"></i>
                <span>Services</span>
            </a>
            <a href="contact.html" class="nav-item px-6 py-2.5 text-sm font-medium rounded-full cursor-pointer transition-all hover:text-white flex items-center gap-2" data-name="Contact">
                <i data-lucide="mail" class="w-4 h-4"></i>
                <span>Contact</span>
            </a>
        </div>
    </nav>

    <section class="relative min-h-screen flex items-center justify-center cinematic-bars overflow-hidden">
        <div class="absolute inset-0 bg-black opacity-60 z-10"></div>
        <video class="absolute inset-0 w-full h-full object-cover" autoplay muted loop playsinline>
            <source src="https://assets.mixkit.co/videos/preview/mixkit-set-of-screens-showing-different-videos-21804-large.mp4" type="video/mp4">
        </video>
        <div class="relative z-20 container mx-auto px-4 max-w-7xl text-center">
            <h1 class="text-6xl md:text-8xl font-bold mb-8 text-white tracking-tight fade-in">
                Featured <br>
                <span class="text-gradient">Works</span>
            </h1>
            <p class="text-xl md:text-2xl text-white/80 max-w-3xl mx-auto mb-12 leading-relaxed fade-in" style="animation-delay: 0.2s">
                A showcase of cinematic storytelling through professional video editing
            </p>
            <div class="mt-12 fade-in" style="animation-delay: 0.4s">
                <a href="#portfolio-grid" class="inline-flex items-center gap-3 text-white/60 hover:text-white transition-colors">
                    <span>Explore Portfolio</span>
                    <i data-lucide="arrow-down" class="w-5 h-5"></i>
                </a>
            </div>
        </div>
    </section>

    <section id="portfolio-grid" class="py-20">
        <div class="container mx-auto px-4 max-w-7xl">
            <div class="text-center mb-16">
                 <h2 class="text-4xl md:text-6xl font-bold mb-4 tracking-tight fade-in serif-title">
                    Cinematic Portfolio
                </h2>
                <p class="text-lg md:text-xl text-white/70 max-w-3xl mx-auto leading-relaxed fade-in" style="animation-delay: 0.2s">
                    Crafting compelling narratives where every frame tells a story and every cut creates emotion.
                </p>
            </div>
            
            <div class="flex flex-wrap justify-center gap-4 mb-16 fade-in" style="animation-delay: 0.3s">
                <button class="filter-btn active flex items-center gap-2" data-filter="all">
                    <i data-lucide="layers" class="w-4 h-4"></i><span>All Projects</span>
                </button>
                <button class="filter-btn flex items-center gap-2" data-filter="wedding">
                    <i data-lucide="heart" class="w-4 h-4"></i><span>Weddings</span>
                </button>
                <button class="filter-btn flex items-center gap-2" data-filter="event">
                    <i data-lucide="calendar" class="w-4 h-4"></i><span>Events</span>
                </button>
                <button class="filter-btn flex items-center gap-2" data-filter="festival">
                    <i data-lucide="sparkles" class="w-4 h-4"></i><span>Festivals</span>
                </button>
                <button class="filter-btn flex items-center gap-2" data-filter="corporate">
                    <i data-lucide="briefcase" class="w-4 h-4"></i><span>Corporate</span>
                </button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="portfolioGridContainer">
                </div>
        </div>
    </section>
    
    <footer class="footer">
        <p>&copy; 2024 Mohan Kumar. All rights reserved.</p>
    </footer>

    <div class="fixed inset-0 z-50 flex items-center justify-center bg-black/90 opacity-0 pointer-events-none" id="featuredWorkModal">
        <div class="relative w-full max-w-5xl mx-4 bg-[var(--color-surface)] rounded-lg overflow-hidden shadow-2xl transform scale-95">
            <button class="absolute top-4 right-4 z-10 text-white/60 hover:text-white transition-colors" id="featuredWorkModalClose" aria-label="Close video">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
            <div class="aspect-video">
                <iframe class="w-full h-full" id="featuredWorkModalVideo" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
            </div>
            <div class="p-6">
                <h3 class="text-2xl font-bold mb-2" id="featuredWorkModalTitle"></h3>
                <p class="text-white/60" id="featuredWorkModalCategory"></p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Lucide icons
            lucide.createIcons();

            // --- SMOOTH SCROLL ---
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            // --- PORTFOLIO DATA & LOGIC ---
            const portfolioGrid = document.getElementById('portfolioGridContainer');
            let videoData = [];

            // Fetch video data from a JSON file with a fallback
            async function loadVideoData() {
                try {
                    const response = await fetch('videos-data.json');
                    if (!response.ok) throw new Error('JSON file not found');
                    videoData = await response.json();
                } catch (error) {
                    console.warn('Could not load from JSON file, using fallback data:', error.message);
                    // Fallback data if JSON fails
                    videoData = [
                        { title: "Ankish & Rutali Wedding Teaser.mp4", driveLink: "https://drive.google.com/file/d/1hTduq4MczgWXYOI6bJMaeK7kiP52_nkb/view?usp=sharing", thumbnail: "https://images.unsplash.com/photo-1519741497674-611481863552?w=800&h=450&fit=crop&crop=center" },
                        { title: "Naga Swaram Event.mp4", driveLink: "https://drive.google.com/file/d/18-TOnOIbG_kxLLRgo1H-lXTQYSTyh9WT/view?usp=sharing", thumbnail: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=800&h=450&fit=crop&crop=center" },
                        { title: "Ganesh Festival Teaser.mp4", driveLink: "https://drive.google.com/file/d/1cU4jM8vEfZuK9YsJ5Hny0vHPjjTYB4a5/view?usp=sharing", thumbnail: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=450&fit=crop&crop=center" },
                        { title: "House Warming Teaser.mp4", driveLink: "https://drive.google.com/file/d/1QegTu3_e3FVs7RAqYMjDBUaFb_UyJT_M/view?usp=sharing", thumbnail: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800&h=450&fit=crop&crop=center", category: "event" },
                        { title: "Bride & Groom Arrivals.mp4", driveLink: "https://drive.google.com/file/d/1oqb89B8AOIZrU-qw7VlFAbRy8nnrGaSh/view?usp=sharing", thumbnail: "https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=800&h=450&fit=crop&crop=center" },
                        { title: "Pellikuturu.mp4", driveLink: "https://drive.google.com/file/d/1VPW2zH6gmcPhM4XVpSulA3js4rOAwoGi/view?usp=sharing", thumbnail: "https://images.unsplash.com/photo-1606800052052-a08af7148866?w=800&h=450&fit=crop&crop=center" },
                        { title: "Corporate Presentation.mp4", driveLink: "https://drive.google.com/file/d/1BhiulU3Jxs45w66rZAp8bm-MNcBlAbDf/view?usp=sharing", thumbnail: "https://images.unsplash.com/photo-1556761175-5973dc0f32e7?w=800&h=450&fit=crop&crop=center" }
                    ];
                }
                renderPortfolioGrid();
            }

            // Determine category from video title
            function getVideoCategory(title) {
                const lowerTitle = title.toLowerCase();
                if (['wedding', 'bride', 'groom', 'ankish', 'rutali', 'pellikuturu', 'pellikoduku'].some(term => lowerTitle.includes(term))) return 'wedding';
                if (['festival', 'ganesh', 'fest'].some(term => lowerTitle.includes(term))) return 'festival';
                if (['corporate', 'business', 'presentation'].some(term => lowerTitle.includes(term))) return 'corporate';
                return 'event'; // Default category
            }

            // Helper function to create embeddable Google Drive URL
            function convertToEmbedUrl(driveLink) {
                const match = driveLink.match(/\/file\/d\/([a-zA-Z0-9-_]+)/);
                return match ? `https://drive.google.com/file/d/${match[1]}/preview` : null;
            }

            // Render the portfolio items to the grid
            function renderPortfolioGrid() {
                if (!portfolioGrid || !videoData.length) {
                    if (portfolioGrid) portfolioGrid.innerHTML = '<p class="col-span-full text-center text-white/70">No videos to display.</p>';
                    return;
                }

                portfolioGrid.innerHTML = videoData.map((video, index) => {
                    const category = video.category || getVideoCategory(video.title);
                    const cleanTitle = video.title.replace(/\.(mp4|mov|avi)$/i, '');
                    const embedUrl = convertToEmbedUrl(video.driveLink);
                    const categoryText = category.charAt(0).toUpperCase() + category.slice(1);
                    
                    return `
                        <div class="portfolio-item" data-category="${category}">
                            <div class="relative cursor-pointer group" onclick="openModal('${embedUrl}', '${cleanTitle}', '${categoryText} Film')">
                                <img src="${video.thumbnail}" alt="${cleanTitle}" class="w-full h-full object-cover">
                                <div class="absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                                    <i data-lucide="play-circle" class="w-16 h-16 text-white/80"></i>
                                </div>
                            </div>
                            <div class="p-6">
                                <h3 class="text-lg font-bold mb-1 text-white">${cleanTitle}</h3>
                                <div class="flex items-center justify-between text-sm text-white/60">
                                    <span>Video Editing</span>
                                    <span class="font-semibold text-[var(--color-accent)]">${categoryText}</span>
                                </div>
                            </div>
                        </div>`;
                }).join('');

                lucide.createIcons(); // Re-render icons after adding them to DOM
                
                // Trigger fade-in animation for newly added items
                setTimeout(() => {
                    document.querySelectorAll('.portfolio-item').forEach(item => item.classList.add('show'));
                }, 100);
                
                setupFilter();
            }

            // --- PORTFOLIO FILTERING ---
            function setupFilter() {
                const filterButtons = document.querySelectorAll('.filter-btn');
                const portfolioItems = document.querySelectorAll('.portfolio-item');

                filterButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        const filter = button.dataset.filter;
                        
                        // Update active button
                        filterButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
                        
                        // Show/hide portfolio items
                        portfolioItems.forEach(item => {
                            if (filter === 'all' || item.dataset.category === filter) {
                                item.style.display = 'block';
                            } else {
                                item.style.display = 'none';
                            }
                        });
                    });
                });
            }
            
            // --- MODAL HANDLING ---
            const modal = document.getElementById('featuredWorkModal');
            const modalVideo = document.getElementById('featuredWorkModalVideo');
            const modalTitle = document.getElementById('featuredWorkModalTitle');
            const modalCategory = document.getElementById('featuredWorkModalCategory');
            const modalCloseBtn = document.getElementById('featuredWorkModalClose');
            
            window.openModal = (embedUrl, title, category) => {
                if (!embedUrl) {
                    alert('Error: Invalid video link.');
                    return;
                }
                modalVideo.src = embedUrl;
                modalTitle.textContent = title;
                modalCategory.textContent = category;
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            };

            const closeModal = () => {
                modal.classList.remove('active');
                modalVideo.src = ''; // Stop video playback
                document.body.style.overflow = 'auto';
            };

            modalCloseBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal();
            });
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closeModal();
            });

            // Initial load
            loadVideoData();
        });

        // Initialize tubelight navigation
        document.addEventListener('DOMContentLoaded', () => {
            // Create Lucide icons
            lucide.createIcons();

            const navItems = document.querySelectorAll('.nav-item');
            const lamp = document.getElementById('lamp');
            
            function setActiveTab(activeItem) {
                // Remove active class from all items
                navItems.forEach(item => {
                    item.classList.remove('active');
                    item.style.color = 'var(--nav-text-color)';
                });

                // Add active class to clicked item
                activeItem.classList.add('active');
                activeItem.style.color = 'var(--nav-active-text)';

                // Move the lamp
                const itemRect = activeItem.getBoundingClientRect();
                const navRect = activeItem.parentElement.getBoundingClientRect();
                lamp.style.left = `${itemRect.left - navRect.left}px`;
                lamp.style.width = `${itemRect.width}px`;
            }

            // Set up click handlers
            navItems.forEach(item => {
                // Hover effects
                item.addEventListener('mouseenter', () => {
                    if (!item.classList.contains('active')) {
                        item.style.color = 'var(--nav-text-hover)';
                    }
                });
                
                item.addEventListener('mouseleave', () => {
                    if (!item.classList.contains('active')) {
                        item.style.color = 'var(--nav-text-color)';
                    }
                });
            });

            // Set initial active state
            const activeItem = document.querySelector('.nav-item.active');
            if (activeItem) {
                setTimeout(() => setActiveTab(activeItem), 50);
            }
        });
    </script>

    <!-- Footer -->
    <footer class="footer mt-20 bg-[var(--color-surface)] border-t border-white/10">
        <div class="container mx-auto px-4 py-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="footer-section">
                    <h3 class="text-2xl font-bold mb-4">Mohan Kumar</h3>
                    <p class="text-white/60">Professional Video Editor</p>
                </div>
                <div class="footer-section">
                    <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="portfolio.html" class="text-white/60 hover:text-white transition-colors">Portfolio</a></li>
                        <li><a href="services.html" class="text-white/60 hover:text-white transition-colors">Services</a></li>
                        <li><a href="about.html" class="text-white/60 hover:text-white transition-colors">About</a></li>
                        <li><a href="contact.html" class="text-white/60 hover:text-white transition-colors">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 class="text-lg font-semibold mb-4">Follow Me</h4>
                    <div class="flex gap-4">
                        <a href="#" class="text-white/60 hover:text-white transition-colors text-xl">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="#" class="text-white/60 hover:text-white transition-colors text-xl">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="#" class="text-white/60 hover:text-white transition-colors text-xl">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="border-t border-white/10 mt-8 pt-8 text-center">
                <p class="text-white/60">&copy; 2024 Mohan Kumar. All rights reserved.</p>
            </div>
        </div>
    </footer>

</body>
</html>